# VenturoERP 2.0 - 專案概念整合文件

> 最後更新：2025-01-20
> 版本：v2.0
> 狀態：框架設計階段

---

## 專案開發規範

### 文件與程式碼規則
1. **禁止使用 emoji** - 所有文件、程式碼、註解中都不使用 emoji
2. **專業文字表達** - 使用清晰的中文或英文描述
3. **結構化標記** - 使用 Markdown 標題、列表等結構化內容
4. **一致性** - 保持程式碼風格和文件格式的一致性

---

## 相關規範文件

- **開發規範**：[DEVELOPMENT_PRINCIPLES.md](./DEVELOPMENT_PRINCIPLES.md)
- **版面規範**：[LAYOUT_ALIGNMENT_GUIDE.md](./LAYOUT_ALIGNMENT_GUIDE.md)
- **問題追蹤**：[ISSUES_TRACKING.md](./ISSUES_TRACKING.md)

---

## 專案核心理念

### 願景宣言
**"Work-Life Integration, Not Balance"** - 不是平衡生活與工作，而是讓兩者自然融合。

### 產品定位
- **內部優先**：先服務公司員工，同時開放給測試朋友
- **雙模式系統**：生活模式（個人）+ 工作模式（企業）
- **企業級核心**：底層是完整 ERP 系統，但介面人性化

---

## 系統架構總覽

```
VenturoERP 2.0
├── 認證系統（開放註冊 + 管理員設定權限）
├── 生活模式（完全個人化）
├── 工作模式（選擇性共享）
└── ERP 核心（隱藏但強大）
```

### 技術架構
- **前端**：Next.js 15 + React 19 + TypeScript + Tailwind CSS
- **狀態管理**：Zustand（輕量）+ RTK Query（複雜業務）
- **後端**：Supabase（資料庫 + 認證）
- **部署**：Vercel
- **未來**：React Native（完整功能 App）

---

## 用戶類型與權限

### 用戶角色定義
```typescript
enum UserRole {
  ADMIN = "管理員",      // 系統管理員（全權限）
  ASSISTANT = "特助",    // 高級權限
  ACCOUNTANT = "會計",   // 財務相關權限
  SALES = "業務",       // 客戶訂單權限
  STAFF = "助理",       // 基本權限
  PUBLIC = "一般用戶"    // 外部用戶（只有生活模式）
}
```

### 權限矩陣
| 角色 | 生活模式 | 工作模式 | 資料可見度 | 管理功能 |
|------|---------|---------|-----------|----------|
| 管理員 | ✓ | ✓ | 全部 | ✓ |
| 特助 | ✓ | ✓ | 部門/專案 | 部分 |
| 會計 | ✓ | ✓ | 財務相關 | ✗ |
| 業務 | ✓ | ✓ | 客戶/訂單 | ✗ |
| 助理 | ✓ | ✓ | 被指派項目 | ✗ |
| 一般用戶 | ✓ | ✗ | 僅個人 | ✗ |

---

## 生活模式 (Life Mode)

### 核心理念
完全個人化的生活管理工具，資料永不共享到工作模式。

### 功能模組

#### 基礎功能
1. **個人待辦** - 生活任務管理
2. **個人行事曆** - 私人行程安排
3. **個人財務** - 收支記帳管理

#### 原創特色功能
1. **箱型時間 (Timebox)** [核心功能]
   - 自律時間管理系統
   - 將任務放入固定時間箱
   - 專注執行，準時結束
   - 追蹤完成率與效率

2. **心靈魔法 (Soul Magic)** [核心功能]
   - 自律顯化系統
   - 習慣養成追蹤
   - 目標視覺化
   - 魔法儀式（晨間/晚間routine）

3. **模擬人生 (Sims Life)** [預留功能]
   - 第三核心功能（預留）
   - 遊戲化人生管理
   - 角色成長系統

---

## 工作模式 (Work Mode)

### 核心理念
專業但不失人性的企業管理，保留個人待辦的同時增加工作功能。

### 功能架構

#### 核心功能（優先開發）
1. **工作待辦中心** - 第一核心
   - 保留個人待辦
   - 新增：優先級管理、專案關聯、任務委派
   - 快速轉換：待辦→訂單/請款/收款

2. **專案管理** - 第二核心
   - 專案建立與追蹤
   - 任務指派給團隊
   - 進度管理
   - 資源分配

#### 業務模組（15個）
```
企業營運模組：
├── 日曆管理
├── 旅遊團
├── 訂單管理
├── 收款單
├── 請款單
├── 出納單
├── 供應商管理
├── 網卡管理
├── 顧客管理
├── 員工管理
├── 報價單
├── 行程設計
├── 合約
├── 確認單
└── 成本資料
```

### 資料共享原則
- **預設私人**：除非特別設定
- **專案共享**：專案成員可見
- **權限控制**：根據建立者決定可見度
- **管理員特權**：可查看所有資料

---

## 模式切換機制

### 切換邏輯
```typescript
interface ModeSwitching {
  // 誰能切換
  canSwitch: user.role !== 'PUBLIC'
  
  // 切換時保留的資料
  preserved: ["個人待辦", "個人行事曆", "個人財務"]
  
  // 工作模式額外功能
  workAddons: ["專案關聯", "快速建單", "團隊協作"]
}
```

### 智能建議
- 上班時間（9:00-18:00）→ 建議工作模式
- 下班/週末 → 建議生活模式
- 可手動切換，系統記憶偏好

---

## 路由結構設計

```
app.venturo.com/
├── /auth
│   ├── /login          # 登入
│   └── /register       # 註冊
│
├── /life               # 生活模式
│   ├── /todos          # 個人待辦
│   ├── /calendar       # 個人行事曆
│   ├── /finance        # 個人財務
│   ├── /timebox        # 箱型時間
│   ├── /soulmagic      # 心靈魔法
│   └── /simslife       # 模擬人生（預留）
│
├── /work               # 工作模式
│   ├── /todos          # 工作待辦
│   ├── /projects       # 專案管理
│   └── /modules        # 業務模組
│       ├── /orders
│       ├── /customers
│       └── /...（其他13個）
│
└── /admin              # 管理後台
    ├── /users          # 用戶管理
    ├── /permissions    # 權限設定
    └── /settings       # 系統設定
```

---

## 資料庫架構（初步）

### 核心資料表
```sql
-- 用戶系統
users (id, email, name, role, created_at)
user_permissions (user_id, permission, granted_by)

-- 待辦系統（跨模式）
todos (id, user_id, title, mode, status, due_date)
todo_conversions (todo_id, converted_to, entity_id)

-- 生活模式專屬
timeboxes (id, user_id, title, date, start_time, duration, status)
soul_magic (id, user_id, type, data, created_at)

-- 工作模式
projects (id, name, owner_id, team_ids, status)
project_tasks (id, project_id, assigned_to, title, status)

-- 業務模組（預留結構）
orders, customers, invoices, receipts, ...
```

### 資料隔離策略
- **Row Level Security (RLS)**：Supabase 原生支援
- **多租戶準備**：預留 company_id 欄位
- **個人資料加密**：敏感資料端到端加密

---

## 開發路線圖

### Phase 0: 基礎架構（完成）
- [x] 專案概念確立
- [x] 技術棧確認 (Next.js + TypeScript + Tailwind + Catalyst UI)
- [x] 專案資料夾建立 (venturoerp-tailwind)
- [x] Catalyst UI Kit 整合完成 (2025-01-20)
- [x] 基礎頁面建立 (Landing, Login, Register) (2025-01-20)
- [x] 資料庫設計完成 - Schema 已建立 (2025-01-20)
- [x] 認證系統架構完成 - Supabase Auth 整合 (2025-01-20)
- [x] Supabase 連線設定 (2025-01-20)
- [x] 執行資料庫 Migration - 已完成 (2025-01-20)
- [x] 清理舊資料並重建 Schema (2025-01-20)

### Phase 1: MVP 核心（4週）
- [x] 用戶註冊/登入 - 功能已實作 (2025-01-20)
- [x] 模式切換系統 - 已建立側邊欄與切換機制 (2025-01-20)
- [x] 個人待辦（雙模式） - 生活/工作模式待辦已實作 (2025-01-20)
- [ ] 基礎權限控制 - 下一步

### Phase 2: 特色功能（6週）
- [ ] 箱型時間系統
- [ ] 專案管理基礎
- [ ] 快速建單功能
- [ ] 團隊協作雛形

### Phase 3: 業務模組（8週）
- [ ] 訂單管理
- [ ] 客戶管理
- [ ] 財務相關模組
- [ ] 其他業務模組

### Phase 4: 優化部署（4週）
- [ ] 效能優化
- [ ] 行動端適配
- [ ] 正式部署
- [ ] 用戶培訓

---

## 創新亮點

1. **雙模式無縫切換** - 同一平台滿足生活與工作
2. **箱型時間管理** - 原創的自律時間系統
3. **心靈魔法系統** - 將顯化概念融入生產力工具
4. **待辦事項為核心** - 一切功能從待辦延伸
5. **人性化 ERP** - 企業工具也能有溫度

---

## 設計理念

### 視覺風格
- **生活模式**：溫暖莫蘭迪色系，圓潤設計
- **工作模式**：專業沉穩色調，俐落線條
- **共同元素**：毛玻璃效果，統一字體系統

### 色彩定義
```css
/* 生活模式色盤 */
--life-primary: #D4C4A0;      /* 莫蘭迪金 */
--life-secondary: #C4A4A7;    /* 灰玫瑰 */
--life-accent: #9CAF88;       /* 鼠尾草綠 */

/* 工作模式色盤 */
--work-primary: #5B7C99;      /* 沉穩藍 */
--work-secondary: #7A8B8B;    /* 商務灰 */
--work-accent: #8B9DC3;       /* 專業藍 */
```

---

## 關鍵決策記錄

### 已確定
1. [完成] 內部優先，外部測試
2. [完成] 雙模式系統（生活/工作）
3. [完成] 待辦事項為核心
4. [完成] 開放註冊 + 管理員設權限
5. [完成] 預設資料私人，特定模組可共享
6. [完成] App 為完整功能版本

### 待確定
1. [待定] 詳細資料庫 Schema
2. [待定] API 設計規範
3. [待定] 部署策略細節
4. [待定] 舊資料遷移計畫

---

## 技術債務預防

### 必須一開始就決定好的
1. **資料庫結構** - 改動成本極高
2. **認證機制** - 影響整體安全
3. **權限系統** - 涉及資料隔離
4. **API 規範** - 影響前後端溝通

### 可以逐步優化的
1. UI/UX 細節
2. 功能豐富度
3. 效能優化
4. 第三方整合

---

## 下一步行動

### 立即部署 (2025-01-20)
1. [x] 確認資料庫 Schema 設計
2. [x] 確認認證流程細節
3. [x] 設計 API 架構
4. [x] 建立開發環境
5. [x] 開始 MVP 開發
6. [x] 部署到 Vercel - 完成！
7. [x] 設定生產環境變數
8. [x] 網站正式上線

### Phase 2 優先開發 (2025-01-21 開始)
1. **箱型時間 (Timebox)** - 核心特色功能
2. **專案管理** - 工作模式核心
3. **快速轉換** - 待辦→訂單/請款單
4. **基礎權限控制** - 角色權限管理

---

## 專案團隊

- **產品規劃**：Venturo Team
- **系統架構**：William Chien（管理員）
- **管理員 Email**：williamchien.corner@gmail.com
- **目標用戶**：公司員工 + 測試朋友

---

## 箱型時間 (Timebox) 詳細說明

### 核心概念
**箱型時間**是一種進階時間管理方法，將待辦事項與時間管理深度整合：
- 不只記錄「要做什麼」，更規劃「什麼時候做」
- 每個任務分配固定時間箱，專注執行
- 時間結束即停止，避免無限延長
- 追蹤執行效率，持續優化

### 實施方法
1. **每日規劃**：花 15-30 分鐘規劃當天重點
2. **任務拆解**：大任務分成 15/30/60 分鐘時間箱
3. **明確命名**：動詞開頭（寫報告、回覆郵件）
4. **準時執行**：專注單一任務，準時開始結束

### 與傳統方法對比
| 方法 | 重點 | 特色 |
|------|------|------|
| 箱型時間 | 固定時間+專注結果 | 明確安排、單一專注 |
| 待辦清單 | 列舉要做的事 | 不限定執行時間 |
| 番茄工作法 | 25分鐘專注 | 固定時長、強制休息 |

---

*此文件為 VenturoERP 2.0 的核心設計文件，將隨專案進展持續更新。*

**文件版本**：2.0
**建立日期**：2025-01-20
**最後更新**：2025-01-20
**狀態**：持續更新中